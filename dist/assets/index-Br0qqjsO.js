(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function i(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=i(s);fetch(s.href,a)}})();class T{constructor(t,i,r){this.type=t,this.timeStamp=i,this.source=r}}class b extends T{constructor(t,i,r,s,a){super(t,i,a),this.x=r,this.y=s}}class Y extends T{constructor(t,i,r=null,s){super(t,i,s),this.key=r}}class X extends T{constructor(t,i,r,s,a){super(t,i,a),this.width=r,this.height=s}}function P(e,t,i,r){return Math.sqrt((e-i)**2+(t-r)**2)}const O={update(e){switch(e.type){case"mousedown":case"mouseup":case"mousemove":return new b(e.type,e.timeStamp,e.x||0,e.y||0);case"keydown":case"keyup":return new Y(e.type,e.timeStamp,e.key);case"resize":return new X(e.type,e.timeStamp,document.body.clientWidth,document.body.clientHeight);case"null":return;default:return new T(e.type,e.timeStamp)}}},R={state:"IDLE",movementThreshold:10,timeThreshold:800,startX:0,startY:0,startTime:0,update(e){switch(this.state){case"IDLE":e.type=="mousedown"&&(this.state="DOWN",this.startX=e.x||0,this.startY=e.y||0,this.startTime=e.timeStamp);break;case"DOWN":if(e.timeStamp-this.startTime>this.timeThreshold)this.state="IDLE";else if(e.x&&e.y&&P(e.x,e.y,this.startX,this.startY)>this.movementThreshold)this.state="IDLE";else if(e.type=="mouseup")return this.state="IDLE",new b("click",e.timeStamp,e.x||0,e.y||0);break}}},K={internalClickTranslator:{...R},state:"IDLE",timeThreshold:500,startTime:0,update(e){const t=this.internalClickTranslator.update(e);switch(this.state){case"IDLE":t&&t.type=="click"&&(this.state="READY",this.startTime=t.timeStamp);break;case"READY":if(e.timeStamp-this.startTime>this.timeThreshold)this.state="IDLE";else if(t&&t.type=="click")return this.state="IDLE",new b("dblclick",e.timeStamp,e.x||0,e.y||0);break}}},W={state:"IDLE",movementThreshold:20,startX:0,startY:0,update(e){switch(this.state){case"IDLE":e.type=="mousedown"&&(this.state="DOWN",this.startX=e.x||0,this.startY=e.y||0);break;case"DOWN":if(e.type=="mouseup")this.state="IDLE";else if(e.type=="mousemove"&&e.x&&e.y&&P(e.x,e.y,this.startX,this.startY)>this.movementThreshold)return this.state="DRAG",{type:"dragstart",timeStamp:e.timeStamp,x:e.x,y:e.y};break;case"DRAG":if(e.type=="mousemove")return{type:"drag",timeStamp:e.timeStamp,x:e.x,y:e.y};if(e.type=="mouseup")return this.state="IDLE",{type:"dragend",timeStamp:e.timeStamp,x:e.x,y:e.y};break}}};function D(e){if(e.type=="resize")return{type:e.type,timeStamp:e.timeStamp,width:document.body.clientWidth,height:document.body.clientHeight};if(e.type=="mouseup"||e.type=="mousedown"||e.type=="mousemove"){const t=e;return{type:e.type,timeStamp:e.timeStamp,x:t.x,y:t.y}}else if(e.type=="keyup"||e.type=="keydown"){const t=e;return t.repeat?void 0:{type:e.type,timeStamp:e.timeStamp,key:t.key}}else{console.warn(`event ${e.type} not supported as FundamentalEvent`);return}}function $(e){const t=[];function i(a){const l=D(a);l&&t.push(l)}window.addEventListener("mousedown",i),window.addEventListener("mouseup",i),window.addEventListener("mousemove",i),window.addEventListener("keydown",i),window.addEventListener("keyup",i),window.addEventListener("resize",i);const r=D(new Event("resize"));r&&t.push(r);function s(a){S=a,e(t,a),window.requestAnimationFrame(s)}window.requestAnimationFrame(s)}let S=0;function q(e,t=["mousemove","resize"]){const i=[...e];e.length=0,i.forEach(r=>{if(r.type in t){const s=e.findIndex(a=>a.type in t);s>-1?e[s]=r:e.push(r)}else e.push(r)})}function B(){var i;let e=!0;document.body.children.length!==1&&(console.error(`document body has ${document.body.children.length} children, must have 1`),e=!1),document.querySelector("body>script")||(console.error("document body must be a single <script> element"),e=!1),document.querySelector("link[rel=stylesheet]")&&(console.error("no <style> tags allowed"),e=!1);const t=document.querySelectorAll("head>script");return(t.length>1||!((i=t[0])!=null&&i.src.includes("vite/client")))&&(console.error("only 1 <script> tag allowed in head for Vite client"),e=!1),document.querySelector("link:not([rel=icon])")&&(console.error('only <link> allowed is 1 <link rel="icon" ...> in head'),e=!1),e||console.log("ðŸ›‘ SimpleKit will not run with issues above. Fix HTML page hosting SimpleKit and/or disable browser plug-ins."),e}function F(e="whitesmoke"){let t=document.createElement("canvas");return document.body.appendChild(t),t.style.setProperty("background",e),document.documentElement.style.setProperty("width","100%"),document.documentElement.style.setProperty("height","100%"),document.documentElement.style.setProperty("margin","0"),document.documentElement.style.setProperty("padding","0"),document.body.style.setProperty("width","100%"),document.body.style.setProperty("height","100%"),document.body.style.setProperty("margin","0"),document.body.style.setProperty("padding","0"),t.style.setProperty("width","100%"),t.style.setProperty("height","100%"),t.style.setProperty("display","block"),t.width=document.body.clientWidth,t.height=document.body.clientHeight,window.addEventListener("resize",()=>{t.width=document.body.clientWidth,t.height=document.body.clientHeight}),console.info(` created ${t.width} by ${t.height} canvas`),t}const H="1.0.1";function N(e,t){q(e);let i=[];for(e.length==0&&e.push({type:"null",timeStamp:t});e.length>0;){const r=e.shift();r&&g.forEach(s=>{const a=s.update(r);a&&i.push(a)})}C&&i.forEach(r=>C(r)),A&&A(t),M&&M(k)}let k;const g=[O,R,K,W];function j(e){g.push(e),console.log(`added event translator, now ${g.length} translators`)}function G(e){C=e}let C;function U(e){M=e}let M;function V(e){A=e}let A;function _(){if(console.info(`ðŸ§° SimpleKit v${H} *Canvas Mode* startup`),!B())return!1;const t=F().getContext("2d");return t?(k=t,$(N),{width:k.canvas.width,height:k.canvas.height}):(console.error("Unable to get graphics context from canvas"),!1)}class J{constructor(t=[],i=0,r=0,s=0,a=5,l=6){this.circleArray=t,this.xCenter=i,this.yCenter=r,this.hexRadius=s,this.rotationSpeed=a,this.arraySize=l}createCircle(){this.circleArray=[];for(let t=0;t<this.arraySize;t++){let i=new Z;i.order=t+1,this.circleArray.push(i)}this.setOrder(),this.setCircleCenter(this.xCenter*2,this.yCenter*2)}drawOnCanvas(t){for(let i=0;i<this.arraySize;i++)this.circleArray[i].drawCircle(t)}setCircleCenter(t,i){this.xCenter=t/2,this.yCenter=i/2,this.hexRadius=200;for(let r=0;r<this.arraySize;r++){const s=2*Math.PI/this.arraySize*r;this.circleArray[r].circleX=this.xCenter+this.hexRadius*Math.cos(s),this.circleArray[r].circleY=this.yCenter+this.hexRadius*Math.sin(s)}}setOrder(){let t=[];for(let i=1;i<this.arraySize+1;i++)t.push(i);for(let i=t.length-1;i>0;i--){let r=Math.floor(Math.random()*(i+1));[t[i],t[r]]=[t[r],t[i]]}for(let i=0;i<this.arraySize;i++)t[i]===1?this.circleArray[i].activeTarget=!0:this.circleArray[i].activeTarget=!1,this.circleArray[i].order=t[i]}animate(t){const i=this.rotationSpeed*(Math.PI/180);for(let r=0;r<this.arraySize;r++){const s=2*Math.PI/this.arraySize*r+i*t/1e3;this.circleArray[r].circleX=this.xCenter+this.hexRadius*Math.cos(s),this.circleArray[r].circleY=this.yCenter+this.hexRadius*Math.sin(s)}}}class Z{constructor(t=Math.random()*30+15,i=0,r=Math.ceil(Math.random()*6),s=0,a=0,l=!1,p=!1,y=0,x=!1,o=0){this.startRadius=t,this.animateRadius=i,this.order=r,this.circleX=s,this.circleY=a,this.clicked=l,this.activeTarget=p,this.angle=y,this.outline=x,this.hue=o;const c=Math.random()*30+15;this.startRadius=c,this.animateRadius=15*Math.sin(c)+30}drawCircle(t){t.beginPath(),t.arc(this.circleX,this.circleY,this.animateRadius,0,2*Math.PI),this.activeTarget===!0?t.fillStyle="white":this.clicked===!0?t.fillStyle=`hsl(${this.hue}, 100%, 50%)`:t.fillStyle="darkgrey",t.fill(),(this.activeTarget===!0||this.clicked==!0)&&(t.fillStyle="black",t.font="20px sans-serif",t.fillText(this.order.toString(),this.circleX,this.circleY)),this.outline===!0&&(t.strokeStyle="lightblue",t.lineWidth=3,t.stroke())}animate(t){let i=2*Math.PI/3.6;this.animateRadius=15*Math.sin(i*t/1e3+this.startRadius)+30}}class v{constructor(t,i){this.mx=t,this.my=i}isMouseInCircle(t,i,r){return(t-r.circleX)*(t-r.circleX)+(i-r.circleY)*(i-r.circleY)<=r.animateRadius*r.animateRadius}}class Q{constructor(t=0,i=0,r=9999999){this.startTime=t,this.curTime=i,this.bestTime=r}start(t){this.startTime=t}getCurrentTime(){return(this.curTime/1e3).toFixed(1)}getBestTime(){return(this.bestTime/1e3).toFixed(1)}updateBestTime(){return this.curTime<this.bestTime?(this.bestTime=this.curTime,!0):!1}update(t){this.curTime=t-this.startTime}}class ee{constructor(t=-500,i=0,r=15,s=0){this.mouseX=t,this.mouseY=i,this.radius=r,this.startTime=s}draw(t){this.radius<=45&&(t.beginPath(),t.strokeStyle="yellow",t.arc(this.mouseX,this.mouseY,this.radius,0,2*Math.PI),t.stroke())}animate(t){const i=.09009009009009009;this.radius=15+i*(t-this.startTime)}}const te={minTime:1,mouseX:0,mouseY:0,timer:0,update(e){switch(e.type){case"mousedown":const t=e;this.mouseX=t.x,this.mouseY=t.y,this.timer=Date.now();break;case"mouseup":const i=e,r=Math.sqrt((i.x-this.mouseX)**2+(i.y-this.mouseY)**2);if((Date.now()-this.timer)/1e3>=this.minTime&&r<10)return new b("longclick",e.timeStamp,e.x||0,e.y||0);break}}};_();j(te);let z=0,I=0,n=new J;n.createCircle();let w=new ee,d=!0,u=!1,f=!1,m=0,E=!1,h=new Q,L=!1;V(e=>{if(u==!0){h.update(e),n.animate(h.curTime);for(const t of n.circleArray)t.animate(h.curTime)}w.animate(e)});U(e=>{L===!0?e.fillStyle="darkred":e.fillStyle="black",e.fillRect(0,0,e.canvas.width,e.canvas.height),e.strokeStyle="white",e.lineWidth=2,e.beginPath(),e.moveTo(0,50),e.lineTo(e.canvas.width,50),e.stroke(),d===!0&&(e.fillStyle="white",e.font="24px sans-serif",e.textAlign="center",e.textBaseline="middle",e.fillText("Click target 1 to begin",e.canvas.width/2,50/2)),u===!0&&d===!1&&m<n.arraySize&&(e.fillStyle="white",e.font="24px sans-serif",e.textAlign="center",e.textBaseline="middle",e.fillText(h.getCurrentTime(),e.canvas.width/2,50/2)),f===!0&&(e.fillStyle="white",e.font="24px sans-serif",e.textAlign="center",e.textBaseline="middle",E?e.fillText(`${h.getBestTime()} (new best!)`,e.canvas.width/2,50/2):e.fillText(`${h.getCurrentTime()} (best: ${h.getBestTime()})`,e.canvas.width/2,50/2)),n.drawOnCanvas(e),w.draw(e)});G(e=>{switch(e.type){case"keydown":const t=e;if(d===!0&&(t.key===" "&&n.setOrder(),t.key==="]"&&n.arraySize<8&&(n.arraySize++,n.createCircle()),t.key==="["&&n.arraySize>3&&(n.arraySize--,n.createCircle()),t.key==="{"&&n.rotationSpeed>1&&n.rotationSpeed--,t.key==="}"&&n.rotationSpeed<10&&n.rotationSpeed++),(d===!0||u===!0)&&t.key==="c"){for(const o of n.circleArray)if(o.activeTarget==!0){o.hue=Math.floor(Math.random()*361),o.activeTarget=!1,m+=1,o.clicked=!0,o.order===1&&(console.log("Mouse in circle"),u=!0,d=!1,h.start(S)),o.order===n.arraySize&&(u=!1,f=!0,E=h.updateBestTime());for(let c=0;c<n.circleArray.length;c++)n.circleArray[c].order==m+1&&(n.circleArray[c].activeTarget=!0);break}}f===!0&&t.key===" "&&(d=!0,f=!1,n.createCircle(),m=0);break;case"resize":const i=e;z=i.width,I=i.height,n.setCircleCenter(z,I);break;case"click":const r=e;let s=new v(r.x,r.y);for(const o of n.circleArray)if(s.isMouseInCircle(r.x,r.y,o)&&o.activeTarget==!0){w.mouseX=r.x,w.mouseY=r.y,w.startTime=S,o.hue=Math.floor(Math.random()*361),o.activeTarget=!1,m+=1,o.clicked=!0,o.order===1&&(console.log("Mouse in circle"),u=!0,d=!1,h.start(S)),o.order===n.arraySize&&(u=!1,f=!0,E=h.updateBestTime());for(let c=0;c<n.circleArray.length;c++)n.circleArray[c].order==m+1&&(n.circleArray[c].activeTarget=!0)}break;case"mousedown":const a=e;let l=new v(a.x,a.y),p;for(const o of n.circleArray)l.isMouseInCircle(a.x,a.y,o)&&(p=o);(!p||p.activeTarget==!1)&&(L=!0);break;case"mouseup":L=!1;break;case"mousemove":const y=e;let x=new v(y.x,y.y);for(const o of n.circleArray)x.isMouseInCircle(y.x,y.y,o)?o.outline=!0:o.outline=!1;break;case"longclick":u===!0&&(d=!0,u=!1,m=0,n.createCircle())}});
